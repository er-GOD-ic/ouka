# Ouka（押下/謳歌）  
Linux向け 高度キーリマップ・マクロソフト

## 概要

**Ouka**は、Linux環境でAutoHotkey(AHK)のような柔軟なキーリマップやマクロ機能を実現するための、軽量・高速なキーリマップデーモンです。  
直感的なLua設定ファイル・アプリケーションごとのマッピング・複雑なコンボ・マクロ・GUI連携など、Windowsユーザーの「当たり前」をLinuxでも快適に実現します。

## 特徴

- **高度なキーリマップ・マクロ**  
    - 単体キー、同時押し、連続入力、条件式、アプリごとのキー設定などに対応
- **直感的なLua設定**  
    - Luaスクリプトで柔軟かつ簡単に記述可能
- **軽量・高速なRust製デーモン**  
    - evdevで入力監視、uinputで出力  
    - Arch/Hyprland含む多くのLinux環境で動作
- **設定ホットリロード・エラーログ表示**
- **GUIツール（今後実装）**  
    - 直感的なマッピング編集・Lua生成・保存/ロード

## 主な用途

- Linux上で複雑なキー操作やマクロを実現したい方
- AutoHotkey(AHK)に慣れたWindowsユーザーの移行先として
- アプリケーションごとのカスタムキーマップ

## 機能ロードマップ

- **フェーズ1:**  
    - 入力取得＋単純リマップ（A→B）/ Luaファイル読込 / 仮想デバイス出力  
- **フェーズ2:**  
    - 押下・解放イベント/コンボ/連続入力/条件分岐  
- **フェーズ3:**  
    - アプリごとマッピング/設定ホットリロード/エラーログ  
- **フェーズ4:**  
    - GUIツール（マッピング編集・Lua生成・反映）  
- **フェーズ5:**  
    - systemdデーモン化/パフォーマンス最適化/AURパッケージ化  

## 仕組みイメージ

1. Rustデーモンが/dev/input/eventXを監視し入力イベントを取得
2. Lua設定スクリプトでリマップ/マクロを記述
3. 仮想デバイス（uinput）でキーイベントを出力
4. GUIツールで設定編集・反映（将来的に対応）

## 設定例 (Lua)

```lua
-- AをBにリマップ
bind("a", "b")

-- Ctrl+Qで特定コマンド
bind({"ctrl", "q"}, function() os.execute("killall firefox") end)

-- アプリごとにマッピング
when_app("firefox", function()
    bind("f1", "ctrl+t")
end)
```

## 今後の展望

- マクロ記録・再生機能
- ゲームパッド・エンコーダ等の他デバイス対応
- クロスプラットフォーム化（BSD等）

## ライセンス

本プロジェクトはMITライセンスで公開予定です。

---

## 開発・貢献

バグ報告・要望・プルリク歓迎！  
詳しくは[CONTRIBUTING.md](CONTRIBUTING.md)をご覧ください。

## 作者

er-GOD-ic
